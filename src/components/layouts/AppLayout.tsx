import { Outlet, useLocation, useNavigate } from "react-router-dom";
import profileIcon from "../../assets/images/app/profile.svg";
import logo from "../../assets/images/logo.svg";
import { auth } from "../../config/firebase_config.ts";
import { clearAccessToken } from "../../../libs/lib-sync-wise-utils";
import { SidemenuItem } from "../../../libs/lib-sync-wise-ui";
import { useEffect, useState } from "react";

export default function AppLayout() {
  const navigate = useNavigate();
  const [showSidebar, setShowSidebar] = useState(false);
  const [activeItem, setActiveItem] = useState<string>("Dashboard");
  const location = useLocation();
  const currentSubNav = location.pathname.split("/").pop();
  const formatPathToTitle = (path: string) => {
    return path
      .split("-")
      .map((word) => word.charAt(0).toUpperCase() + word.slice(1))
      .join(" ");
  };

  useEffect(() => {
    const path = location.pathname.split("/")[1];

    if (path) {
      const formattedItem = formatPathToTitle(path);
      setActiveItem(formattedItem);
    }
  }, [location.pathname]);

  const subNavBar = {
    "Data Optimizer": [
      {
        title: "All CRMs",
        link: "all-crms",
      },
      {
        title: "Data Optimization History",
        link: "data-optimization-history",
      },
    ],
    Migration: [
      {
        title: "Apps",
        link: "apps",
      },
      {
        title: "Migration History",
        link: "migration-history",
      },
    ],
  } as const;

  function signOut() {
    auth.signOut().then(() => {
      clearAccessToken();
      navigate("/login");
    });
  }

  const handleNavigation = (route: string, item: string) => {
    setActiveItem(item);
    navigate(route);
  };

  return (
    <div
      style={{ height: "100vh" }}
      className="min-h-screen min-w-screen bg-purple-50"
    >
      <div className="h-full w-full flex">
        <div
          onMouseLeave={() => setShowSidebar(false)}
          className={`absolute ${showSidebar ? "flex" : "hidden"} z-20 lg:relative lg:flex min-h-screen w-full lg:max-w-[300px] bg-purple-50 shadow-sidebar lg:flex-col items-center `}
        >
          <div className="h-full min-w-[300px] flex flex-col justify-between items-center min-h-screen py-16">
            <div className="w-full flex flex-col gap-12 items-center">
              <img src={logo} alt="logo" className="w-24 h-24 " />
              <div className="flex w-full flex-col gap-4 h-96 overflow-y-auto custom-scrollbar">
                <SidemenuItem
                  variant={activeItem === "Dashboard" ? "active" : "default"}
                  text="DashBoard"
                  icon={
                    <svg
                      width="30"
                      height="30"
                      viewBox="0 0 30 30"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        opacity="0.5"
                        d="M26.1039 11H16.8961C16.6585 11 16.4305 11.0968 16.2625 11.2692C16.0944 11.4415 16 11.6752 16 11.919V26.081C16.0007 26.3245 16.0953 26.5578 16.2632 26.73C16.4312 26.9022 16.6587 26.9993 16.8961 27H26.1039C26.3413 26.9993 26.5688 26.9022 26.7368 26.73C26.9047 26.5578 26.9993 26.3245 27 26.081V11.919C27 11.6752 26.9056 11.4415 26.7375 11.2692C26.5695 11.0968 26.3415 11 26.1039 11Z"
                        fill="currentColor"
                      />
                      <path
                        d="M26.1039 3H16.8961C16.6585 3 16.4305 3.0886 16.2625 3.2463C16.0944 3.40401 16 3.6179 16 3.84093V8.15907C16.0007 8.38192 16.0953 8.59543 16.2632 8.75298C16.4312 8.91053 16.6587 8.99937 16.8961 9H26.1039C26.3413 8.99937 26.5688 8.91053 26.7368 8.75298C26.9047 8.59543 26.9993 8.38192 27 8.15907V3.84093C27 3.6179 26.9056 3.40401 26.7375 3.2463C26.5695 3.0886 26.3415 3 26.1039 3Z"
                        fill="currentColor"
                      />
                      <path
                        d="M13.1035 17H3.8965C3.40137 17 3 17.424 3 17.947V26.053C3 26.576 3.40137 27 3.8965 27H13.1035C13.5986 27 14 26.576 14 26.053V17.947C14 17.424 13.5986 17 13.1035 17Z"
                        fill="currentColor"
                      />
                      <path
                        opacity="0.5"
                        d="M13.1035 3.00001H3.8965C3.77866 2.99961 3.66188 3.02156 3.55293 3.06461C3.44398 3.10765 3.34499 3.17092 3.26165 3.25079C3.17832 3.33066 3.1123 3.42555 3.06739 3.52998C3.02249 3.63441 2.99959 3.74634 3.00001 3.8593V14.1407C3.00001 14.3686 3.09446 14.5872 3.26258 14.7483C3.43071 14.9094 3.65874 15 3.8965 15H13.1035C13.3412 15 13.5693 14.9094 13.7374 14.7483C13.9055 14.5872 14 14.3686 14 14.1407V3.8593C14.0004 3.74634 13.9775 3.63441 13.9326 3.52998C13.8877 3.42555 13.8217 3.33066 13.7384 3.25079C13.655 3.17092 13.556 3.10765 13.4471 3.06461C13.3381 3.02156 13.2213 2.99961 13.1035 3.00001Z"
                        fill="currentColor"
                      />
                    </svg>
                  }
                  onClick={() => handleNavigation("/dashboard", "Dashboard")}
                />
                <SidemenuItem
                  variant={activeItem === "Backups" ? "active" : "default"}
                  text="Backups"
                  icon={
                    <svg
                      width="30"
                      height="30"
                      viewBox="0 0 30 30"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <g opacity="0.5">
                        <path
                          d="M8.12501 22.4998H8.5L9 22.5H11H13H15H16H18.5H20H21C21 22.5 21.4334 22.4344 21.875 22.34C25.0907 21.6524 27.5 18.8246 27.5 15.4409C27.5 12.3512 25.4912 9.72506 22.6939 8.76848C22.2964 5.24189 19.2699 2.49976 15.5952 2.49976C11.6503 2.49976 8.45237 5.66009 8.45237 9.55858C8.45237 10.4208 8.60882 11.247 8.8952 12.0108C8.55937 11.9457 8.21229 11.9115 7.85714 11.9115C4.89847 11.9115 2.5 14.2818 2.5 17.2056C2.5 20.1295 4.89847 22.4998 7.85714 22.4998H8.12501Z"
                          fill="currentColor"
                        />
                      </g>
                    </svg>
                  }
                  onClick={() => handleNavigation("/backups", "Backups")}
                />

                <SidemenuItem
                  variant={
                    activeItem === "Data Optimizer" ? "active" : "default"
                  }
                  text="Data Optimizer"
                  icon={
                    <svg
                      width="31"
                      height="30"
                      viewBox="0 0 31 30"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        opacity="0.5"
                        d="M9.0371 2.90676C10.4391 2.90271 11.7654 3.027 13.0679 3.3598C13.7723 3.53996 14.4598 3.76628 15.0881 4.14401C15.4023 4.33308 15.6958 4.54684 15.9181 4.84401C16.2148 5.24117 16.2181 5.64725 15.925 6.04887C15.6537 6.42053 15.2828 6.67113 14.88 6.87721C14.1302 7.26061 13.3347 7.51081 12.51 7.67356C10.8946 7.99259 9.26544 8.06871 7.62536 7.94239C6.68892 7.87032 5.76098 7.74117 4.85451 7.48773C4.20957 7.30717 3.58487 7.07397 3.00876 6.72579C2.7039 6.54118 2.42333 6.32539 2.21442 6.03105C1.94236 5.64806 1.94195 5.27073 2.21078 4.88571C2.43143 4.56951 2.72495 4.33389 3.05653 4.14522C3.82009 3.71 4.64641 3.44482 5.50066 3.26061C6.68608 3.00474 7.88649 2.89786 9.0371 2.90676Z"
                        fill="currentColor"
                      />
                      <path
                        opacity="0.5"
                        d="M2.01127 7.68823C2.03475 7.69835 2.05054 7.702 2.06309 7.7105C2.88495 8.26516 3.80034 8.59916 4.75175 8.84694C5.62584 9.07447 6.51774 9.19309 7.41612 9.27163C8.54487 9.37001 9.67361 9.37001 10.8015 9.26718C12.119 9.14734 13.4177 8.93317 14.657 8.44653C15.1542 8.25139 15.6356 8.02426 16.0785 7.72305C16.0922 7.71374 16.1072 7.70686 16.1315 7.69309C16.1343 7.72507 16.1384 7.75018 16.1384 7.77487C16.1416 8.65868 16.142 9.54248 16.1485 10.4263C16.1526 10.9615 15.8886 11.3441 15.4821 11.6567C14.9906 12.0344 14.4303 12.2716 13.8513 12.4712C12.8728 12.8089 11.8598 12.9781 10.8335 13.0777C9.99993 13.1587 9.1639 13.1866 8.32706 13.1538C7.10641 13.106 5.90317 12.9348 4.72422 12.6097C4.02382 12.4166 3.35823 12.1453 2.75944 11.7263C2.53677 11.5704 2.33799 11.3899 2.18859 11.1595C2.0643 10.9676 2.00155 10.7562 2.00196 10.5283C2.00196 9.6109 2.00357 8.69309 2.00519 7.77568C2.00519 7.74977 2.00843 7.72426 2.01086 7.68904L2.01127 7.68823Z"
                        fill="currentColor"
                      />
                      <path
                        opacity="0.5"
                        d="M12.67 14.1743C12.67 14.3002 12.6623 14.4216 12.6717 14.5415C12.6895 14.7698 12.7721 14.9795 12.8652 15.1872C13.1822 15.8957 12.998 16.7144 12.4138 17.2119C12.1858 17.4063 11.9255 17.5382 11.63 17.5901C11.1794 17.669 10.8065 17.8763 10.5166 18.2326C10.4935 18.2609 10.4437 18.282 10.4057 18.2828C9.70769 18.2953 9.00972 18.3225 8.31215 18.3099C7.54291 18.2957 6.77692 18.2168 6.01903 18.0755C5.09798 17.9034 4.19636 17.6646 3.35142 17.2472C3.01093 17.0791 2.69474 16.8731 2.42267 16.6059C2.14453 16.3326 2 15.9986 2 15.6087C2.0004 14.7216 2.00567 13.8342 2.00931 12.9472C2.00931 12.9204 2.01296 12.8941 2.01498 12.8601C2.03522 12.8666 2.05223 12.8686 2.06478 12.8771C3.017 13.5233 4.08745 13.8674 5.19959 14.1079C7.27166 14.5561 9.35992 14.6075 11.4591 14.3557C11.8405 14.3099 12.2186 14.2391 12.5984 14.1799C12.6174 14.1771 12.6372 14.1767 12.6692 14.1743H12.67Z"
                        fill="currentColor"
                      />
                      <path
                        opacity="0.5"
                        d="M2.0076 18.0158C2.23553 18.1502 2.44484 18.2862 2.66508 18.4016C3.45658 18.8174 4.30476 19.0737 5.17197 19.2696C6.69545 19.6142 8.2412 19.7036 9.79788 19.6591C9.90233 19.6563 10.0068 19.6534 10.1112 19.651C10.1177 19.651 10.1238 19.6547 10.1416 19.6603C10.144 19.6915 10.1469 19.7267 10.1497 19.7623C10.174 20.0648 10.1716 20.3721 10.2274 20.6684C10.3732 21.4453 11.0161 21.9951 11.8064 22.0644C12.4064 22.117 12.859 22.4134 13.1671 22.93C13.1841 22.9583 13.1967 22.9891 13.2189 23.0352C13.0137 23.0842 12.8185 23.1344 12.6222 23.1773C11.1185 23.5069 9.59504 23.57 8.06306 23.5024C6.72865 23.4437 5.42015 23.2328 4.15456 22.7939C3.55861 22.587 2.99464 22.3142 2.51448 21.8951C2.29059 21.7 2.10355 21.4745 2.03189 21.1761C2.01529 21.1077 2.00517 21.0364 2.00517 20.966C2.00355 20.0044 2.00395 19.0433 2.00395 18.0818C2.00395 18.0627 2.00557 18.0433 2.00719 18.0154L2.0076 18.0158Z"
                        fill="currentColor"
                      />
                      <path
                        d="M14.3739 22.1733C14.1836 21.9817 14.0095 21.7825 13.8117 21.6115C13.2794 21.1522 12.6534 20.906 11.9554 20.8414C11.6973 20.8177 11.5334 20.6695 11.5145 20.4089C11.4881 20.0365 11.4714 19.6629 11.463 19.2897C11.4573 19.0361 11.6099 18.8805 11.8864 18.8264C12.6877 18.6699 13.3594 18.2844 13.8561 17.6386C14.6438 16.6149 14.7972 15.4891 14.3216 14.2834C14.2974 14.2223 14.2675 14.1629 14.2412 14.1027C14.1497 13.8913 14.1968 13.6842 14.3788 13.5418C14.81 13.2038 15.2746 12.9189 15.7705 12.6864C15.985 12.5857 16.1947 12.6455 16.3463 12.8363C17.1002 13.7836 18.0818 14.2337 19.2897 14.1352C20.2137 14.06 20.9724 13.6425 21.5636 12.9264C21.5918 12.8925 21.6177 12.8569 21.645 12.8226C21.7808 12.6508 21.9931 12.5791 22.1835 12.6793C22.5421 12.8688 22.8942 13.0719 23.2402 13.2842C23.409 13.3875 23.467 13.6024 23.3914 13.7928C23.2173 14.2306 23.1228 14.6816 23.1259 15.1533C23.1259 15.1849 23.1057 15.224 23.0824 15.2469C22.5567 15.7568 22.0287 16.265 21.5012 16.7731C21.4938 16.7802 21.4832 16.7841 21.4691 16.7925C21.39 16.7292 21.3113 16.6641 21.2304 16.6026C20.0163 15.679 18.3719 15.5902 17.069 16.3775C15.7674 17.1639 15.083 18.662 15.3366 20.1689C15.341 20.1939 15.3388 20.222 15.3493 20.2445C15.4496 20.4651 15.3665 20.6418 15.2403 20.8278C14.9691 21.2278 14.7168 21.6406 14.4561 22.0476C14.4271 22.0929 14.3968 22.1377 14.373 22.1733H14.3739Z"
                        fill="currentColor"
                      />
                      <path
                        d="M16.9033 22.6075C17.4106 22.9469 17.9525 23.161 18.5469 23.2194C19.9403 23.3561 21.0837 22.8752 21.9404 21.771C22.5593 20.9732 22.7769 20.051 22.6587 19.0487C22.6534 19.0021 22.6666 18.9353 22.6978 18.905C23.1738 18.4382 23.6539 17.9762 24.1334 17.5133C24.1383 17.5084 24.1462 17.5071 24.1603 17.501C24.1739 17.5115 24.1919 17.5225 24.2073 17.5366C24.7409 18.0162 25.3629 18.3014 26.0768 18.3836C26.3151 18.4113 26.4773 18.567 26.4874 18.8096C26.5036 19.1973 26.508 19.5855 26.5041 19.9736C26.5019 20.1965 26.3384 20.3547 26.0979 20.3916C25.5366 20.4778 25.0289 20.6905 24.5748 21.0317C23.3615 21.9429 22.9334 23.5869 23.5427 24.9962C23.66 25.2674 23.6161 25.4639 23.3717 25.6252C23.0727 25.8226 22.7664 26.0103 22.4551 26.1875C22.2156 26.3242 22.0076 26.2692 21.8305 26.0617C21.0441 25.1399 20.0432 24.7289 18.8423 24.8714C17.8976 24.9835 17.1424 25.4529 16.5767 26.2196C16.4052 26.4521 16.2013 26.5189 15.9463 26.3919C15.6158 26.227 15.2935 26.0455 14.9674 25.8718C14.8839 25.8274 14.8667 25.7826 14.9247 25.6929C15.5648 24.6986 16.2004 23.7008 16.8369 22.7043C16.8562 22.6739 16.8778 22.6449 16.9037 22.6075H16.9033Z"
                        fill="currentColor"
                      />
                      <path
                        d="M12.3702 28.1685C12.1772 28.0446 11.9965 27.9281 11.8066 27.8059C11.8405 27.7514 11.8682 27.7048 11.8972 27.6595C13.121 25.7341 14.3448 23.8088 15.5685 21.8835C16.2266 20.8482 16.8846 19.8126 17.5427 18.7774C17.6552 18.6007 17.7005 18.5827 17.9067 18.6359C18.5981 18.813 19.2904 18.9888 19.9806 19.1708C20.1199 19.2077 20.2223 19.1827 20.3274 19.0811C21.9319 17.5268 23.5394 15.9755 25.1465 14.4234C26.016 13.5838 26.8855 12.7442 27.7558 11.9059C27.7809 11.8818 27.8178 11.8694 27.8494 11.8514L27.8209 11.8105H25.6146V11.1384H29.0411V14.4414H28.3756V12.2572C28.3233 12.3029 28.2939 12.3262 28.267 12.3525C27.2978 13.2888 26.329 14.226 25.3592 15.1619C23.7416 16.7237 22.1231 18.2846 20.5068 19.8482C20.4175 19.9344 20.3287 19.9581 20.2087 19.9269C19.5392 19.7515 18.8689 19.5805 18.1985 19.4091C18.0152 19.362 17.9581 19.3853 17.8592 19.5409C16.8499 21.1296 15.8406 22.7186 14.8314 24.3073C14.0322 25.5654 13.2322 26.823 12.4322 28.0802C12.415 28.1074 12.3957 28.1334 12.3706 28.169L12.3702 28.1685Z"
                        fill="currentColor"
                      />
                    </svg>
                  }
                  onClick={() =>
                    handleNavigation("/data-optimizer", "Data Optimizer")
                  }
                />

                <SidemenuItem
                  variant={activeItem === "Migration" ? "active" : "default"}
                  text="Migration"
                  icon={
                    <svg
                      width="30"
                      height="30"
                      viewBox="0 0 30 30"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <circle
                        opacity="0.5"
                        cx="15"
                        cy="15"
                        r="14"
                        fill="currentColor"
                      />
                      <path
                        d="M18.4942 6.85395C18.6187 6.93017 18.684 6.97887 18.7488 7.10853C18.7751 7.26883 18.7843 7.4249 18.7053 7.57068C18.5195 7.80936 18.3124 8.02146 18.0965 8.23292C18.0612 8.26782 18.0259 8.30271 17.9896 8.33867C17.9034 8.42383 17.817 8.5088 17.7305 8.59358C17.7544 8.59442 17.7783 8.59526 17.8029 8.59612C18.9538 8.63858 20.0095 8.79408 20.9128 9.56947C20.9476 9.59873 20.9825 9.62799 21.0185 9.65814C21.8265 10.3568 22.3114 11.35 22.3978 12.4123C22.4023 12.5547 22.4019 12.6968 22.4005 12.8392C22.4003 12.876 22.4001 12.9127 22.3999 12.9505C22.3994 13.0398 22.3986 13.1291 22.3978 13.2184C22.4344 13.2214 22.4344 13.2214 22.4717 13.2245C23.1819 13.2912 23.8393 13.6947 24.3183 14.2134C24.9008 14.9203 25.1754 15.7385 25.1133 16.6553C25.0305 17.3138 24.8147 17.8809 24.392 18.3949C24.369 18.4248 24.346 18.4547 24.3222 18.4856C23.8417 19.0807 23.1048 19.4353 22.3554 19.5405C21.4908 19.6228 20.6611 19.4462 19.966 18.9094C19.8989 18.8519 19.8326 18.7936 19.7671 18.7343C19.7345 18.7056 19.7018 18.6769 19.6682 18.6473C19.1808 18.1932 18.7852 17.4714 18.7413 16.7939C18.7211 15.82 18.8369 14.9921 19.5126 14.2368C19.5399 14.2055 19.5672 14.1743 19.5953 14.1421C20.092 13.6087 20.7372 13.2733 21.4643 13.2184C21.3945 12.1296 21.201 11.1574 20.3691 10.3836C19.5552 9.72758 18.6983 9.60376 17.6881 9.6119C17.7187 9.6423 17.7493 9.6727 17.7809 9.70403C17.8943 9.81668 18.0076 9.92947 18.1208 10.0423C18.1699 10.0912 18.219 10.14 18.2681 10.1887C18.3387 10.2588 18.4091 10.329 18.4795 10.3992C18.5016 10.421 18.5236 10.4428 18.5463 10.4653C18.7019 10.6209 18.7562 10.7001 18.7647 10.9193C18.7637 11.0907 18.7578 11.1278 18.6481 11.2693C18.4975 11.3804 18.396 11.4167 18.2053 11.4137C18.0906 11.3893 18.0421 11.3482 17.9562 11.269C17.9268 11.2419 17.8973 11.2148 17.8669 11.1869C17.6993 11.0264 17.5339 10.864 17.37 10.6997C17.3329 10.6626 17.2958 10.6256 17.2576 10.5874C17.1799 10.5097 17.1022 10.4319 17.0245 10.3541C16.9449 10.2743 16.8652 10.1946 16.7854 10.115C16.6699 9.9997 16.5545 9.8843 16.4392 9.76885C16.3855 9.71522 16.3855 9.71522 16.3306 9.66051C16.2977 9.62749 16.2648 9.59448 16.231 9.56046C16.1874 9.51686 16.1874 9.51686 16.143 9.47238C16.0157 9.33491 15.9994 9.20071 16.0048 9.01753C16.0416 8.8538 16.1077 8.7871 16.2237 8.66634C16.2544 8.63414 16.2544 8.63414 16.2856 8.6013C16.3565 8.52736 16.4282 8.45435 16.5 8.38143C16.5269 8.35396 16.5538 8.3265 16.5816 8.2982C16.7613 8.11494 16.9424 7.93304 17.1241 7.75178C17.2197 7.65644 17.3151 7.56088 17.4104 7.46529C17.4715 7.4042 17.5326 7.34312 17.5938 7.28206C17.6362 7.2395 17.6362 7.2395 17.6795 7.19608C17.706 7.1697 17.7325 7.14332 17.7598 7.11614C17.7829 7.09309 17.806 7.07003 17.8298 7.04628C18.0458 6.84677 18.2025 6.81004 18.4942 6.85395ZM20.1585 14.9567C19.7526 15.4607 19.6196 16.0645 19.6823 16.6977C19.8081 17.326 20.1344 17.8326 20.6476 18.2172C21.1851 18.5725 21.7855 18.6858 22.4137 18.562C23.0645 18.3977 23.5354 18.0244 23.8829 17.4614C24.1564 16.9015 24.2598 16.2608 24.0685 15.6529C23.8142 15.018 23.4168 14.5842 22.8009 14.2871C21.8362 13.8753 20.8441 14.1973 20.1585 14.9567Z"
                        fill="currentColor"
                      />
                      <path
                        d="M12.9353 6.51445C13.0843 6.63461 13.2231 6.76225 13.3596 6.89632C13.3894 6.92504 13.4191 6.95375 13.4498 6.98334C14.0411 7.59654 14.2685 8.43672 14.2594 9.27124C14.2259 10.125 13.8449 10.9122 13.2264 11.4967C12.7254 11.9219 12.2189 12.1139 11.5776 12.2849C11.5776 14.0772 11.5776 15.8694 11.5776 17.716C11.7876 17.772 11.9976 17.828 12.214 17.8857C13.0077 18.1934 13.6473 18.8074 13.9961 19.5829C14.3186 20.4058 14.354 21.2702 14.0253 22.0995C13.8349 22.5214 13.5992 22.859 13.2748 23.1894C13.2461 23.2192 13.2173 23.2489 13.1878 23.2796C12.587 23.8588 11.7554 24.0988 10.9357 24.0892C10.1604 24.0478 9.49367 23.7796 8.90449 23.2743C8.8583 23.2352 8.8583 23.2352 8.81117 23.1954C8.29328 22.7192 7.93182 21.9888 7.87677 21.2877C7.83765 20.2628 8.0354 19.4154 8.73875 18.6468C9.26954 18.096 9.8634 17.8742 10.6017 17.716C10.6017 15.9237 10.6017 14.1315 10.6017 12.2849C10.4057 12.2429 10.2096 12.2009 10.0077 12.1576C9.88111 12.1071 9.7703 12.0599 9.65232 11.9959C9.62377 11.981 9.59522 11.9661 9.56581 11.9507C9.35788 11.8399 9.16884 11.7167 8.98935 11.5636C8.96539 11.5457 8.94143 11.5277 8.91675 11.5093C8.34865 11.0671 8.01479 10.3481 7.88617 9.65427C7.86908 9.47964 7.86587 9.30724 7.86761 9.13185C7.86796 9.08553 7.86831 9.03922 7.86867 8.9915C7.88502 8.20662 8.16679 7.5234 8.69234 6.93875C8.71433 6.91283 8.73631 6.8869 8.75897 6.86019C9.81306 5.70016 11.6988 5.64052 12.9353 6.51445ZM9.43221 7.53277C8.97046 8.02035 8.79204 8.62884 8.80753 9.28897C8.85168 9.84784 9.10595 10.3598 9.49851 10.7574C10.065 11.2243 10.6365 11.3907 11.3654 11.3515C11.9499 11.2689 12.4108 10.9743 12.808 10.5453C13.2256 9.98746 13.3248 9.39881 13.2748 8.72081C13.1776 8.15826 12.864 7.68092 12.4262 7.32062C11.4626 6.65133 10.3068 6.74882 9.43221 7.53277ZM9.41365 19.3283C8.9468 19.8948 8.78039 20.4663 8.81963 21.1952C8.90222 21.7797 9.1968 22.2406 9.6258 22.6378C9.76091 22.739 9.89845 22.8187 10.0501 22.8924C10.0831 22.9089 10.1162 22.9253 10.1502 22.9423C10.6828 23.1816 11.2463 23.192 11.7995 23.0194C12.09 22.9082 12.322 22.7594 12.5535 22.553C12.5796 22.5308 12.6056 22.5087 12.6325 22.4859C13.0181 22.1344 13.2592 21.6432 13.288 21.1253C13.3021 20.7114 13.284 20.3456 13.1051 19.9647C13.0902 19.9316 13.0753 19.8983 13.06 19.8641C12.773 19.2892 12.2814 18.9278 11.684 18.7227C10.8676 18.4861 10.013 18.7365 9.41365 19.3283Z"
                        fill="currentColor"
                      />
                    </svg>
                  }
                  onClick={() => handleNavigation("/migration", "Migration")}
                />

                <SidemenuItem
                  variant={activeItem === "Billing" ? "active" : "default"}
                  text="Billing"
                  icon={
                    <svg
                      width="30"
                      height="30"
                      viewBox="0 0 30 30"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        opacity="0.5"
                        d="M22.0312 25.7396C22.8333 25.0591 24.0417 25.0591 24.8438 25.7396C25.3886 26.202 26.25 25.8328 26.25 25.1368V4.86324C26.25 4.16729 25.3886 3.79803 24.8438 4.2604C24.0417 4.94093 22.8333 4.94093 22.0312 4.2604C21.2292 3.57987 20.0208 3.57987 19.2188 4.2604C18.4167 4.94093 17.2083 4.94093 16.4062 4.2604C15.6042 3.57987 14.3958 3.57987 13.5938 4.2604C12.7917 4.94093 11.5832 4.94093 10.7812 4.2604C9.97926 3.57987 8.77074 3.57987 7.96875 4.2604C7.16676 4.94093 5.95824 4.94093 5.15625 4.2604C4.61136 3.79803 3.75 4.16729 3.75 4.86324V25.1368C3.75 25.8328 4.61136 26.202 5.15625 25.7396C5.95824 25.0591 7.16676 25.0591 7.96875 25.7396C8.77074 26.4201 9.97926 26.4201 10.7812 25.7396C11.5832 25.0591 12.7917 25.0591 13.5938 25.7396C14.3958 26.4201 15.6042 26.4201 16.4062 25.7396C17.2083 25.0591 18.4167 25.0591 19.2188 25.7396C20.0208 26.4201 21.2292 26.4201 22.0312 25.7396Z"
                        fill="currentColor"
                      />
                      <path
                        d="M8.4375 19.375C8.4375 18.8572 8.85724 18.4375 9.375 18.4375H20.625C21.1427 18.4375 21.5625 18.8572 21.5625 19.375C21.5625 19.8928 21.1427 20.3125 20.625 20.3125H9.375C8.85724 20.3125 8.4375 19.8928 8.4375 19.375Z"
                        fill="currentColor"
                      />
                      <path
                        d="M8.4375 15C8.4375 14.4822 8.85724 14.0625 9.375 14.0625H20.625C21.1427 14.0625 21.5625 14.4822 21.5625 15C21.5625 15.5178 21.1427 15.9375 20.625 15.9375H9.375C8.85724 15.9375 8.4375 15.5178 8.4375 15Z"
                        fill="currentColor"
                      />
                      <path
                        d="M8.4375 10.625C8.4375 10.1072 8.85724 9.6875 9.375 9.6875H20.625C21.1427 9.6875 21.5625 10.1072 21.5625 10.625C21.5625 11.1428 21.1427 11.5625 20.625 11.5625H9.375C8.85724 11.5625 8.4375 11.1428 8.4375 10.625Z"
                        fill="currentColor"
                      />
                    </svg>
                  }
                  onClick={() => handleNavigation("/billing", "Billing")}
                />
                <SidemenuItem
                  variant={activeItem === "Setting" ? "active" : "default"}
                  text="Setting"
                  icon={
                    <svg
                      width="30"
                      height="30"
                      viewBox="0 0 30 30"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        opacity="0.5"
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M17.8485 2.6903C17.3856 2.5 16.7987 2.5 15.625 2.5C14.4512 2.5 13.8644 2.5 13.4015 2.6903C12.7842 2.94404 12.2939 3.43073 12.0382 4.04329C11.9215 4.32292 11.8758 4.64812 11.8579 5.12249C11.8317 5.8196 11.4714 6.46486 10.8627 6.81366C10.254 7.16245 9.5108 7.14942 8.88936 6.82345C8.46647 6.60162 8.15986 6.47827 7.85748 6.43877C7.19511 6.35222 6.52522 6.53036 5.9952 6.934C5.59767 7.23672 5.30423 7.74112 4.71737 8.74991C4.13051 9.75871 3.83708 10.2631 3.77168 10.7561C3.68447 11.4135 3.86397 12.0783 4.27068 12.6044C4.45632 12.8445 4.71721 13.0462 5.12212 13.2987C5.71738 13.67 6.1004 14.3024 6.10036 15C6.10032 15.6976 5.71732 16.3299 5.12212 16.701C4.71715 16.9536 4.45621 17.1555 4.27056 17.3956C3.86385 17.9216 3.68436 18.5864 3.77156 19.2437C3.83696 19.7367 4.1304 20.2412 4.71725 21.25C5.30411 22.2587 5.59755 22.7632 5.99507 23.0659C6.5251 23.4695 7.19498 23.6476 7.85736 23.5611C8.15972 23.5216 8.46631 23.3982 8.88916 23.1765C9.51065 22.8505 10.2539 22.8375 10.8626 23.1862C11.4714 23.5351 11.8317 24.1804 11.8579 24.8776C11.8758 25.3519 11.9215 25.6771 12.0382 25.9567C12.2939 26.5692 12.7842 27.056 13.4015 27.3097C13.8644 27.5 14.4512 27.5 15.625 27.5C16.7987 27.5 17.3856 27.5 17.8485 27.3097C18.4657 27.056 18.9561 26.5692 19.2117 25.9567C19.3285 25.6771 19.3742 25.3519 19.3921 24.8775C19.4184 24.1804 19.7785 23.5351 20.3872 23.1862C20.996 22.8374 21.7392 22.8505 22.3607 23.1765C22.7836 23.3982 23.0901 23.5215 23.3925 23.561C24.0549 23.6476 24.7247 23.4695 25.2547 23.0659C25.6524 22.7631 25.9457 22.2587 26.5326 21.2499C27.1195 20.2411 27.4129 19.7367 27.4784 19.2437C27.5655 18.5864 27.386 17.9215 26.9794 17.3955C26.7936 17.1554 26.5327 16.9535 26.1277 16.701C25.5326 16.3299 25.1496 15.6975 25.1496 14.9999C25.1496 14.3022 25.5326 13.6701 26.1277 13.299C26.5329 13.0464 26.7937 12.8446 26.9795 12.6044C27.3861 12.0784 27.5656 11.4136 27.4785 10.7562C27.413 10.2632 27.1196 9.75879 26.5327 8.75C25.9459 7.74121 25.6525 7.23681 25.2549 6.93409C24.7249 6.53045 24.055 6.35231 23.3926 6.43886C23.0902 6.47836 22.7836 6.6017 22.3609 6.8235C21.7394 7.14949 20.9961 7.16252 20.3874 6.8137C19.7786 6.46489 19.4184 5.81957 19.392 5.12242C19.3741 4.6481 19.3285 4.32291 19.2117 4.04329C18.9561 3.43073 18.4657 2.94404 17.8485 2.6903Z"
                        fill="currentColor"
                      />
                      <path
                        d="M19.4037 15.0002C19.4037 17.0714 17.7121 18.7502 15.6252 18.7502C13.5384 18.7502 11.8467 17.0714 11.8467 15.0002C11.8467 12.9291 13.5384 11.2502 15.6252 11.2502C17.7121 11.2502 19.4037 12.9291 19.4037 15.0002Z"
                        fill="currentColor"
                      />
                    </svg>
                  }
                  onClick={() => handleNavigation("/setting", "Setting")}
                />
              </div>
            </div>
            <div
              className="px-4 py-2 rounded-lg group flex items-center gap-6 cursor-pointer hover:bg-primary-normal hover:text-white"
              onClick={signOut}
            >
              <svg
                width="30"
                height="30"
                viewBox="0 0 30 30"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g id="logout-svgrepo-com 1">
                  <path
                    id="Vector"
                    opacity="0.5"
                    d="M14.999 25.0002C9.47617 25.0002 4.99902 20.5231 4.99902 15.0002C4.99902 9.47739 9.47617 5.00024 14.999 5.00024V25.0002Z"
                    fill="#322E3D"
                    className="group-hover:fill-white"
                  />
                  <path
                    id="Vector_2"
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M20.5871 10.5871C20.221 10.9532 20.221 11.5468 20.5871 11.9129L22.7366 14.0625H12.5C11.9822 14.0625 11.5625 14.4822 11.5625 15C11.5625 15.5177 11.9822 15.9375 12.5 15.9375H22.7366L20.5871 18.0871C20.221 18.4532 20.221 19.0467 20.5871 19.4129C20.9532 19.779 21.5468 19.779 21.9129 19.4129L25.6629 15.6629C26.029 15.2967 26.029 14.7032 25.6629 14.3371L21.9129 10.5871C21.5468 10.221 20.9532 10.221 20.5871 10.5871Z"
                    fill="#322E3D"
                    className="group-hover:fill-white"
                  />
                </g>
              </svg>
              <span className="text-xl text-blue-950 font-semibold group-hover:text-white">
                Sign-out
              </span>
            </div>
          </div>
          <div
            className="flex lg:hidden bg-white w-full min-h-screen justify-end p-5"
            onClick={() => setShowSidebar(false)}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              x="0px"
              y="0px"
              width="20"
              height="20"
              viewBox="0 0 50 50"
            >
              <path d="M 7.71875 6.28125 L 6.28125 7.71875 L 23.5625 25 L 6.28125 42.28125 L 7.71875 43.71875 L 25 26.4375 L 42.28125 43.71875 L 43.71875 42.28125 L 26.4375 25 L 43.71875 7.71875 L 42.28125 6.28125 L 25 23.5625 Z"></path>
            </svg>
          </div>
        </div>
        <div className="w-full h-full bg-purple-50 py-4 sm:py-12">
          <div className="flex px-6 sm:px-12 pb-8">
            <div
              className="flex lg:hidden items-center pr-6"
              onClick={() => setShowSidebar(true)}
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                x="0px"
                y="0px"
                width="25"
                height="25"
                viewBox="0 0 50 50"
              >
                <path d="M 0 7.5 L 0 12.5 L 50 12.5 L 50 7.5 Z M 0 22.5 L 0 27.5 L 50 27.5 L 50 22.5 Z M 0 37.5 L 0 42.5 L 50 42.5 L 50 37.5 Z"></path>
              </svg>
            </div>
            <div className="w-full flex justify-between sm:items-center">
              <div className="flex flex-col gap-2 sm:gap-4">
                <h1 className="font-semibold text-2xl sm:text-3xl text-blue-950">
                  {activeItem}
                </h1>
                {subNavBar[activeItem as keyof typeof subNavBar] && (
                  <div className="flex flex-col sm:flex-row gap-1 sm:gap-6">
                    {subNavBar[activeItem as keyof typeof subNavBar].map(
                      (item) => (
                        <div key={item.link}>
                          <a
                            href={item.link}
                            className={`text-base lg:text-lg hover:text-purple-800 ${
                              item.link === currentSubNav
                                ? "text-purple-800 font-medium "
                                : "text-grey-900 font-normal"
                            }`}
                          >
                            {item.title}
                          </a>
                        </div>
                      ),
                    )}
                  </div>
                )}
              </div>
              <div className="hidden lg:flex items-center gap-6">
                <svg
                  width="40"
                  height="40"
                  viewBox="0 0 40 40"
                  fill="none"
                  className="cursor-pointer"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g id="help">
                    <path
                      id="Vector"
                      d="M19.9997 3.33325C10.7997 3.33325 3.33301 10.7999 3.33301 19.9999C3.33301 29.1999 10.7997 36.6666 19.9997 36.6666C29.1997 36.6666 36.6663 29.1999 36.6663 19.9999C36.6663 10.7999 29.1997 3.33325 19.9997 3.33325ZM21.6663 31.6666H18.333V28.3332H21.6663V31.6666ZM25.1163 18.7499L23.6163 20.2832C22.4163 21.4999 21.6663 22.4999 21.6663 24.9999H18.333V24.1666C18.333 22.3332 19.083 20.6666 20.283 19.4499L22.3497 17.3499C22.9663 16.7499 23.333 15.9166 23.333 14.9999C23.333 13.1666 21.833 11.6666 19.9997 11.6666C18.1663 11.6666 16.6663 13.1666 16.6663 14.9999H13.333C13.333 11.3166 16.3163 8.33325 19.9997 8.33325C23.683 8.33325 26.6663 11.3166 26.6663 14.9999C26.6663 16.4666 26.0663 17.7999 25.1163 18.7499Z"
                      fill="#4A445C"
                      className=""
                    />
                  </g>
                </svg>
                <img
                  src={profileIcon}
                  alt="profile"
                  className="cursor-pointer w-[40px] h-[40px] sm:h-[50px] sm:w-[50px]"
                />
              </div>
            </div>
          </div>
          <div
            style={{
              height: "-webkit-fill-available",
              width: "-webkit-fill-available",
            }}
            className="fixed mb-12"
          >
            <Outlet />
          </div>
        </div>
      </div>
    </div>
  );
}
